# Инструкция для администратора: регистрация пользователей

**Назначение:** создание учётных записей пользователей системы (Комплектатор, Исполнитель, Администратор).

**Для кого:** пользователи с ролью **Администратор**.

---

## Содержание

1. [Доступ к разделу «Пользователи»](#1-доступ-к-разделу-пользователи)
2. [Добавление нового пользователя](#2-добавление-нового-пользователя)
3. [Роли пользователей](#3-роли-пользователей)
4. [Требования к данным](#4-требования-к-данным)
5. [Просмотр и управление списком пользователей](#5-просмотр-и-управление-списком-пользователей)
6. [Частые вопросы и ошибки](#6-частые-вопросы-и-ошибки)

---

## 1. Доступ к разделу «Пользователи»

1. Войдите в систему под учётной записью **Администратора** (email и пароль).
2. Перейдите в **Панель управления** (или **Личный кабинет** — для администратора открывается панель администрирования).
3. В боковом меню выберите пункт **«Пользователи»** (или перейдите по адресу **/admin/users**).

Откроется страница со списком зарегистрированных пользователей и кнопкой **«Добавить пользователя»**.

---

## 2. Добавление нового пользователя

### Шаг 1. Открытие формы

- На странице **«Пользователи»** нажмите кнопку **«Добавить пользователя»** (или перейдите по ссылке **/admin/users/new**).

### Шаг 2. Заполнение формы

Заполните все **обязательные** поля (отмечены звёздочкой *):

| Поле | Описание | Обязательное |
|------|----------|---------------|
| **Email** | Адрес электронной почты — используется для входа в систему | Да |
| **Пароль** | Пароль не короче 6 символов | Да |
| **Подтверждение пароля** | Повторите пароль — должно совпадать с полем «Пароль» | Да |
| **Фамилия** | Фамилия пользователя | Да |
| **Имя** | Имя пользователя | Да |
| **Отчество** | Отчество (при необходимости) | Нет |
| **Роль** | Роль в системе: Администратор, Комплектатор или Исполнитель | Да |

### Шаг 3. Создание учётной записи

1. Проверьте введённые данные.
2. Нажмите кнопку **«Создать пользователя»**.
3. При успешном создании вы будете перенаправлены на страницу списка пользователей; новый пользователь появится в списке.
4. Сообщите новому пользователю **email** и **пароль** для входа (безопасным способом). Рекомендуется попросить пользователя сменить пароль после первого входа (если в системе предусмотрена смена пароля).

### Если появилась ошибка

- **«Пароли не совпадают»** — убедитесь, что в полях «Пароль» и «Подтверждение пароля» введено одинаковое значение.
- **«Пароль должен быть не короче 6 символов»** — задайте пароль длиной не менее 6 символов.
- **«Пользователь с таким email уже существует»** — выберите другой email или найдите существующего пользователя в списке и при необходимости отредактируйте его данные (если доступно).
- **«Ошибка соединения с сервером»** — проверьте подключение к интернету и повторите попытку.

---

## 3. Роли пользователей

При создании пользователя необходимо выбрать одну из ролей:

| Роль в системе | Назначение | Доступ |
|----------------|------------|--------|
| **Администратор** | Полный доступ: управление пользователями, настройки, каталог, импорт/экспорт, аналитика | Панель управления (/admin), пользователи, каталог, КП, счета, заказы у поставщика |
| **Комплектатор** | Комплектация заказов: конфигуратор дверей, корзина, КП и счета для клиентов | Каталог/двери, корзина, личный кабинет (клиенты, КП, счета). Нет доступа к заказам у поставщика и разделу «Пользователи» |
| **Исполнитель** | Обработка оплаченных счетов и заказов у поставщика | Личный кабинет (клиенты, счета, заказы у поставщика), экспорт заказов в Excel. Нет доступа к КП и разделу «Пользователи» |

Выбирайте роль в соответствии с должностными обязанностями пользователя.

---

## 4. Требования к данным

- **Email** — должен быть уникальным в системе и в формате адреса электронной почты (например, `ivanov@company.ru`). Используется как логин для входа.
- **Пароль** — минимум **6 символов**. Рекомендуется использовать надёжный пароль (буквы, цифры, символы).
- **Фамилия, Имя** — заполняются вручную; отображаются в интерфейсе (например, в шапке сайта после входа).
- **Отчество** — по желанию.

Данные сохраняются в базе системы. Пароль хранится в зашифрованном виде.

---

## 5. Просмотр и управление списком пользователей

На странице **«Пользователи»** (/admin/users) отображаются:

- Список всех пользователей с полями: ФИО (или email), роль, дата создания, активность.
- Краткая статистика по ролям (например, количество администраторов, комплектаторов, исполнителей).
- Кнопка **«Добавить пользователя»** для перехода к форме создания.

В зависимости от реализации в системе для каждого пользователя могут быть доступны действия:

- **Редактирование** — изменение ФИО, роли, сброс или смена пароля (если предусмотрено).
- **Блокировка/активация** — отключение доступа без удаления учётной записи (если предусмотрено).

Доступ к странице **«Пользователи»** и к форме **«Добавить пользователя»** имеет только администратор.

---

## 6. Частые вопросы и ошибки

**Кто может создавать новых пользователей?**  
Только пользователь с ролью **Администратор**. Раздел «Пользователи» в меню доступен только администратору.

**Можно ли зарегистрировать второго администратора?**  
Да. При создании пользователя выберите роль **«Администратор»**. Убедитесь, что у него надёжный пароль и что учётная запись создана по вашей инициативе.

**Пользователь забыл пароль. Как сбросить?**  
Если в системе есть функция «Восстановление пароля» или «Смена пароля» в личном кабинете — пользователь может воспользоваться ею. Иначе администратор может создать нового пользователя с тем же email после удаления старой учётной записи (если такая возможность реализована) или изменить пароль через форму редактирования пользователя (если она доступна). В текущей версии уточните доступные действия на странице «Пользователи».

**Ошибка «Пользователь с таким email уже существует».**  
В системе уже есть учётная запись с указанным email. Используйте другой email или найдите этого пользователя в списке и при необходимости отредактируйте его данные или роль.

**Новый пользователь не может войти.**  
Проверьте: 1) передан ли ему правильный email и пароль; 2) совпадает ли раскладка клавиатуры и регистр при вводе пароля; 3) не заблокирована ли учётная запись (если есть статус «Активен/Неактивен»). При повторных ошибках создайте пользователя заново с новым паролем (не короче 6 символов).

---

**Связанные документы:**

- [Инструкция по использованию ПО «Комплектатор»](ИНСТРУКЦИЯ_КОМПЛЕКТАТОР.md) — для пользователей с ролью Комплектатор.
- [Руководство пользователя Комплектатора и Исполнителя](USER_GUIDE_COMPLECTATOR_EXECUTOR.md) — личный кабинет, документы, роли.

**Дата актуализации:** февраль 2025.

**Версия для Word:** файл `ИНСТРУКЦИЯ_АДМИН_РЕГИСТРАЦИЯ.docx` в этой папке. Для пересборки из Markdown выполните: `npm run docs:word`.
